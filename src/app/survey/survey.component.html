<head>
    <meta charset="UTF-8">
    <title>Chamb - Responsive E-commerce HTML5 Template</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!--enable mobile device-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--fontawesome css-->
    <link rel="stylesheet" href="assets/css/font-awesome.min.css">
    <!--bootstrap css-->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <!--animate css-->
    <link rel="stylesheet" href="assets/css/animate-wow.css">
    <!--main css-->
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="assets/css/slick.min.css">
    <!--responsive css-->
    <link rel="stylesheet" href="assets/css/responsive.css">
 </head>

<app-header></app-header>




<body style="margin-top:170px">











  <div class="terms-conditions product-page">
      <div class="terms-title">
         <div class="container">
            <div class="row">
               <ol class="breadcrumb">
                  <li *ngFor="let sec of sectionsvalues"><a>{{sec}} </a></li>
               </ol>
            </div>
         </div>
      </div>
   </div>

















   

<div class="product-page-main">



<!----------------------------store and category-------------------------------->
<!----------------------------store and category-------------------------------->
<!----------------------------store and category-------------------------------->
<!----------------------------store and category-------------------------------->
<!----------------------------store and category-------------------------------->
<!----------------------------store and category-------------------------------->

   <div class="container">
      <div class="row">
         <div class="col-md-12">
            <div class="prod-page-title">
               <h3>In <span>{{cat}}</span></h3>
            </div>
         </div>
      </div>












      <!----------------------------image-------------------------------->
      <!----------------------------image-------------------------------->
      <!----------------------------image-------------------------------->
      <!----------------------------image-------------------------------->
      <!----------------------------image-------------------------------->
      <!----------------------------image-------------------------------->


      <div class="row">
         <div class="col-md-2 col-sm-4">
            <div class="row left-profile-box-m prod-page">
               <div class="col-md-12 col-sm-12" class="pro-img">
                  <img [src]="image" alt="#" />
               </div>
               <div class="col-md-12 col-sm-12" class="pof-text">
                  <h3>{{store}}</h3>
                  <div *ngIf="status==='existed'" class="check-box"></div>
               </div>
               <div class="col-md-12 col-sm-12">
                  <span *ngFor="let s of [1,2,3,4,5]" class="fa fa-star" [ngClass]="total>=s?'checked':''"></span>({{sum}})
               </div>
              <div class="col-md-12 col-sm-12"><h3 *ngIf="mode==='specified'">0{{phone}}</h3></div>
              <div class="col-md-12 col-sm-12"><h3 *ngIf="mode==='specified'">{{address}}</h3></div>
            </div>
         </div>










         <div class="col-md-7 col-sm-8">
            <div class="md-prod-page">
               <div class="md-prod-page-in">


      <!--------------------------------------chart area----------------------------->
      <!--------------------------------------chart area----------------------------->
      <!--------------------------------------chart area----------------------------->
      <!--------------------------------------chart area----------------------------->
      <!--------------------------------------chart area----------------------------->
      <!--------------------------------------chart area----------------------------->
      <!--------------------------------------chart area----------------------------->
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                    </div>
                                    <agm-map style="height:300px;width:100%" usePanning='true' [zoom]="zoom" [latitude]="lat" [longitude]="lng" (mapClick)="getLocation($event)">
                                        <agm-marker [latitude]="lat" [longitude]="lng"></agm-marker>
                                    </agm-map>
                                </div>
                                

                                <div *ngFor="let q of qs;let i=index" class="panel panel-default">
                                    <div class="panel-heading">
                                        <h3>{{q}}</h3>
                                    </div>
                                    <div>
                                    
                                        <ul class="chart">
                                            <li *ngFor="let ch of chs[i];let c=index">
                                              <span [style.height]="bar(ch,i)+'%'" [attr.title]="ch">{{bar(ch,i)>0?bar(ch,i)+'%':''}}</span>
                                            </li>
                                        </ul>   
                                </div>
                                </div>
                                <div #el *ngIf="survey" class="panel panel-default">
                                    <div class="panel-heading">
                                      <h3>submit the survey</h3>
                                    </div>
                                    <div>
                                      <form class="row" ngForm #s="ngForm" (submit)="submitsurvey(s)">
                                        <div class="col-md-6" style="margin:10px" *ngFor="let q of qs;let i=index">
                                            <h3>{{q}}</h3>
                                            <div *ngIf="chs[i]?.length>0">
                                              <div *ngFor="let ch of chs[i];let y=index">
                                                {{y+1}}<input ngModel type="radio" [name]="'q'+(i+1)" [value]="ch" required>{{ch}}<br>
                                              </div>
                                            </div>
                                            <div *ngIf="chs[i]?.length===0">
                                                <input  type="text" [name]="'q'+(i+1)" [placeholder]="q"/>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="rating">
                                                <label>
                                                    <input ngModel type="radio" name="rating" value="1" required />
                                                    <span class="icon">★</span>
                                                  </label>
                                                  <label>
                                                    <input ngModel type="radio" name="rating" value="2" required />
                                                    <span class="icon">★</span>
                                                    <span class="icon">★</span>
                                                  </label>
                                                  <label>
                                                    <input ngModel type="radio" name="rating" value="3" required />
                                                    <span class="icon">★</span>
                                                    <span class="icon">★</span>
                                                    <span class="icon">★</span>   
                                                  </label>
                                                  <label>
                                                    <input ngModel type="radio" name="rating" value="4" required />
                                                    <span class="icon">★</span>
                                                    <span class="icon">★</span>
                                                    <span class="icon">★</span>
                                                    <span class="icon">★</span>
                                                  </label>
                                                  <label>
                                                    <input ngModel type="radio" name="rating" value="5" required />
                                                    <span class="icon">★</span>
                                                    <span class="icon">★</span>
                                                    <span class="icon">★</span>
                                                    <span class="icon">★</span>
                                                    <span class="icon">★</span>
                                                  </label>
                                            </div>
                                        </div>
                                        <button  class="col-md-12 btn btn-primary">Submit</button>
                                        
                                      </form>
                                    </div>
                                  </div>
                                  <div class="alert-warning col-md-12">
                                       <h3 *ngIf="surveyloading">Loading...</h3>
                                      <h3 style="text-align: center" *ngIf="done">{{done}}</h3>
                                  </div>
                                  
                                <div class="panel panel-default">
                                  <div class="panel-heading">
                                  </div>
                                  <table style="width:100%;height:100%">
                                      <tr>
                                        <td style="width:100%;height:100%"><canvas id="lineChart"></canvas></td>
                                      </tr>
                                  </table>
                                </div>
                                <button type="button" (click)="openModal(template)" class="btn btn-sm btn-danger">Submit the survey</button>









                  <div class="btn-dit-list clearfix">
                     <div class="left-dit-p">
                        <div class="prod-btn">
                           <a href="#"><i class="fa fa-star" aria-hidden="true"></i> Save to wishlist</a>
                           <a href="#"><i class="fa fa-thumbs-up" aria-hidden="true"></i> Like this</a>
                           <p>23 likes</p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="description-box">
                  <div class="dex-a">
                     <h4>Review</h4>
                     <p *ngIf="mode==='specified'">{{review}}</p>
                     <br>
                  </div>
                  <div class="spe-a">
                     <h4>Specifications</h4>
                     <ul>
                        <li *ngFor="let spec of specs;let i=index" class="clearfix">
                           <div class="col-md-4">
                              <h5 style="color:rgb(39, 55, 80)">{{spec}}</h5>
                           </div>
                           <div class="col-md-8">
                              <p>{{specsvalues[i]}}</p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
















          <form ngForm #c="ngForm" (submit)="addcomment(c)">
            <div class="similar-box">
                <h2>Add comment</h2>
                <!--Textarea with icon prefix-->
                <div class="md-form mb-4 pink-textarea active-pink-textarea-2">
                  <!--<i class="fas fa-angle-double-right prefix"></i>-->
                  <textarea ngModel name="comment" id="form23" class="md-textarea form-control" rows="4"></textarea>
                  <label for="form23">Add comment try to be honest and positive</label>
                </div>
                <button class="btn btn-primary">Publish</button>

                <div *ngIf="comments.length>0" style="height: 500px;overflow-y:scroll" class="md-form mb-4 pink-textarea active-pink-textarea-2">
                    <div class="row" style="margin:10px;padding:17px;background-color: rgb(236, 241, 247)" *ngFor = "let comm of comments">
                      <div style="color:rgb(122, 125, 126)" class="col-md-12">
                        <small class="" style="font-size:18px">{{comm.date?.split('T')[0] || ''}}</small>
                      </div>
                      <div class="col-md-12">
                        <p style="font-size:18px">{{comm.comment}}</p>
                      </div>
                      <div style="color:rgb(116, 117, 119)" class="">
                          <small style="font-size:18px">{{comm.section1}}</small><span>-</span>
                          <small style="font-size:18px">{{comm.section2}}</small><span>-</span>
                          <small style="font-size:18px">{{comm.section3}}</small><span>-</span>
                          <small style="font-size:18px">{{comm.section4}}</small><span>-</span>
                      </div>
                    </div>
                </div>
                
            </div>
          </form>
         </div>























         
         <div class="col-md-3 col-sm-12">
              <a *ngIf="mode!=='specified'">Get statistics of</a>
               <form ngForm #s="ngForm" (submit)="submitsurvey(s)">
                  <div *ngIf="mode !=='specified'" style="margin-top:20px;" class="price-box-right">
                      <div style="margin:12px" *ngFor="let section of sections;let s=index">
                        <input autocomplete="off" [attr.list]="'list'+s" (change)="updateChart(d,s)" ngModel #d="ngModel" [name]="'section'+(s+1)" style="margin:20px" [placeholder]="section" class="sec" required/>
                        <datalist [id]="'list'+s">
                          <option *ngFor="let list of sectionsLists[s]">{{list}}</option>
                        </datalist>
                      </div>
                  </div>
                  <a *ngIf="mode!=='specified'" (click)="resetfilter()">Reset filters</a>
                  <div *ngIf="mode ==='new'" class="price-box-right">
                    <div *ngFor="let spec of specs;let sp=index">
                        <input class="form-control" type="text" ngModel [name]="'spec'+(sp+1)" [placeholder]="spec" required/>
                    </div>
                  </div>
                  <div class="price-box-right" *ngIf="mode ==='new'">
                    <input class="form-control" type="text" ngModel [name]="'phone'" [placeholder]="'Phone'" required/>
                    <input class="form-control" type="text" ngModel [name]="'address'" [placeholder]="'Address'" required/>
                    <input class="form-control" type="text" ngModel [name]="'review'" [placeholder]="'Review'" required/>
                  </div>
                </form>
              
                <button (click)="scrollto()" style="margin:15px" class="btn btn-warning" *ngIf="survey" >Goto survey</button>
                <button style="margin:15px" class="btn btn-warning" *ngIf="mode==='specified'" [routerLink]="back+'/filter'">Discover all brand statistics</button>
                <button style="margin:15px" class="btn btn-warning" *ngIf="mode !=='new'" [routerLink]="back+'/new'">Add new branch</button>
                <div>
                    <strong *ngIf="mode!=='specified'">Top branches in this ragion</strong>
                    <div style="margin:5px;width:70%;height:50%" *ngFor="let t of top;let i=index">
                        <div class="row small-box-c">
                           <div class="col-md-6 small-img-b">
                              <img class="img-responsive" [src]="image" alt="#" />
                           </div>
                           <div class="col-md-6 dit-t clearfix">
                              <div class="col-md-12 left-ti">
                                 <h4>{{t.branch}}</h4>
                              </div>
                              <span *ngFor="let s of [1,2,3,4,5]" class="fa fa-star" [ngClass]="t.rate>=s?'checked':''"></span>
                           </div>
                        </div>
                     </div>
                </div>
              </div>
      </div>
   </div>
</div>




</body>



<app-footer></app-footer>






















<ng-template #template>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Survey</h4>
        <button>
            <span (click)="modalRef.hide()" aria-hidden="false">&times;</span>
        </button>
    </div>
    <div style="color:firebrick" class="modal-body">
        
    </div>
    <div style="color:rgb(212, 55, 55)" class="modal-footer">
        <button  class="btn btn-primary">Submit</button>
            {{modalmess}}
        <button  class="btn btn-danger" (click)="modalRef.hide()">close</button>
    </div>>
</ng-template>